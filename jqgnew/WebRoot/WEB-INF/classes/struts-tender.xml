<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.ognl.allowStaticMethodAccess" value="true" />
	<package name="phone" namespace="/phone" extends="json-default">
		<!-- 定义一个拦截器 -->
		<interceptors>
			<interceptor name="authority" class="com.jqg.Interceptor.CkeckBackLogin">
			</interceptor>
			<interceptor name="json"
				class="org.apache.struts2.json.JSONInterceptor" />
			<!-- 拦截器栈 -->
			<interceptor-stack name="teamwareStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="authority" />
				<interceptor-ref name="json" />
			</interceptor-stack>
		</interceptors>
		<action name="sendMessage" class="com.jqg.struts.PhoneAction"
			method="sendMessage">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
		</action>
	</package>
	<!-- 投资 -->
	<package name="tender" namespace="/tender" extends="struts-default">
	
	<!-- 定义一个拦截器 -->  
        <interceptors>  
            <interceptor name="tender"  
                class="com.jqg.Interceptor.CkeckBackLogin">  
            </interceptor>  

            <!-- 拦截器栈 -->  
                <interceptor-stack name="teamwareStack">  
                	
                 <interceptor-ref name="tender" />  

            </interceptor-stack>  
        </interceptors>  
       <!--  <default-interceptor-ref name="teamwareStack"/>  同一个package默认此拦截器-->
        
         <!-- 定义全局Result -->  
        <global-results>  
            <!-- 当返回login视图名时，转入/login.jsp页面 -->  
            <result name="login"  type="redirect">/login/login.jsp</result>  
        </global-results> 


		<!-- 查找所有个人的投资列表 -->
		<action name="totenderList" class="com.jqg.struts.TenderAction"
			method="totenderList">
			<result name="success">/invest/invest_list.jsp</result>
			<result name="firm">/invest/invest_FirmList.jsp</result>
			<result name="lc">/invest/invest_LcList.jsp</result>
			<result name="prac">/invest/invest_Practicelist.jsp</result>
			<result name="tran">/invest/invest_Transferlist.jsp</result>
		</action>
		<!-- 查找所有企业的投资列表 -->
		<action name="totenderEntList" class="com.jqg.struts.TenderAction"
			method="totenderList">
			<result>/invest/invest_ent.jsp</result>
		</action>
		<!--标详细页面 -->
		<action name="totender" class="com.jqg.struts.TenderAction"
			method="findLssuingByID">
<!-- 			<interceptor-ref name="teamwareStack" />使用此拦截器 -->
			<result name="success">/invest/invest_detail.jsp</result>
			<result name="firm">/invest/invest_FirmDetail.jsp</result>
			<result name="lc">/invest/invest_LcDetail.jsp</result>
			<result name="prac">/invest/invest_PracDetail.jsp</result>
		</action>
		
		
		<!--企业标自动还款 -->
		<action name="autorepay" class="com.jqg.struts.TenderAction"
			method="autorepay">
		</action>
		
		<!-- 查找标投标记录 -->
		<action name="tenderByIdPage" class="com.jqg.struts.TenderAction"
			method="list">
		</action>
		<!-- 投标分页 -->
		<action name="lssuinglistPage" class="com.jqg.struts.TenderAction"
			method="lssuinglist">
		</action>
		<!-- 根据条件查询标 -->
		<action name="findlssuingBytender" class="com.jqg.struts.TenderPageActon"
			method="findlssuingBytender">
		</action>
		<!-- 查找标评论 -->
		<action name="findTenderWords" class="com.jqg.struts.TenderWordsAction"
			method="findTenderWords">
		</action>
		<!-- 逾期 -->
		<action name="tenderlist1" class="com.jqg.struts.TenderAction"
			method="tenderlist1">
		</action>
		<!-- 已完成 -->
		<action name="tenderlist2" class="com.jqg.struts.TenderAction"
			method="tenderlist2">
		</action>
		<!-- 正在还款 -->
		<action name="tenderlist3" class="com.jqg.struts.TenderAction"
			method="tenderlist3">
		</action>
		<!-- 投资合同 -->
		<action name="investContract" class="com.jqg.struts.TenderAction"
			method="investContract">
			<result>/user/user_investContract.jsp</result>
		</action>

		<!-- 正在投标 -->
		<action name="tenderlist4" class="com.jqg.struts.TenderAction"
			method="tenderlist4">
		</action>
		<!-- 还款详情 -->
		<action name="recordlist" class="com.jqg.struts.TenderAction"
			method="recordlist">
		</action>
		<!-- 总额 -->
		<action name="tenderlist" class="com.jqg.struts.TenderAction"
			method="tenderlist">
			<result>/user/user_invest_total.jsp</result>
		</action>
	</package>


	<!-- 行业资讯 -->
	<package name="news" namespace="/news" extends="struts-default">
		<!--文章分类查找 -->
		<action name="new" class="com.jqg.struts.NewsAction" method="indexnew">
			<result name="success">/index/news.jsp</result>
			<result name="error">/index/policies.jsp</result>
			<result name="provision">/login/agreement.jsp</result>
		</action>
	
		<!-- 文章分页 -->
		<action name="page" class="com.jqg.struts.NewsAction" method="indexpage">
		</action>
		<!-- 文章详细 -->
		<action name="newdetail" class="com.jqg.struts.NewsAction"
			method="newdetail">
			<result name="success">/index/read.jsp</result>
		</action>
	</package>
	<!-- 用户提现 -->
	<package name="userbank" namespace="/userbank" extends="struts-default">
		<!-- 定义一个拦截器 -->
		<interceptors>
			<interceptor name="authority" class="com.jqg.Interceptor.CkeckBackLogin">
			</interceptor>

			<!-- 拦截器栈 -->
			<interceptor-stack name="teamwareStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="authority" />

			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="teamwareStack" />

		<!-- 定义全局Result -->
		<global-results>
			<!-- 当返回login视图名时，转入/login.jsp页面 -->
			<result name="login" type="redirect">/login/login.jsp</result>
		</global-results>
		<!-- 查找银行列表 -->
		<action name="showBank" class="com.jqg.struts.UserBankAciton"
			method="showBank">
			<result name="success">/user/user_bank.jsp</result>
		</action>
		<action name="userBanks" class="com.jqg.struts.UserBankAciton"
			method="showUserBank">
		</action>
		<action name="findUserBank" class="com.jqg.struts.UserBankAciton"
			method="findUserBank">
			<result name="success">/user/updatebank.jsp</result>
		</action>
		<action name="deleteUserBank" class="com.jqg.struts.UserBankAciton"
			method="deleteUserBank">
			<result name="success">/user/user_bank_list.jsp</result>
		</action>
		<action name="toUserBank" class="com.jqg.struts.UserBankAciton"
			method="toUserBank">
			<result name="success">/user/user_bank_list.jsp</result>
		</action>
		<action name="mention" class="com.jqg.struts.UserBankAciton"
			method="mention">
			<result name="success">/user/user_cash.jsp</result>
		</action>
		<action name="showTranslate" class="com.jqg.struts.UserBankAciton"
			method="showTranslate">
			<result name="success">/user/user_cash.jsp</result>
		</action>
	</package>
	<!-- 投资 -->
	<package name="json" namespace="/json" extends="struts-default">
		<result-types>
			<result-type name="json" class="org.apache.struts2.json.JSONResult" />
		</result-types>
		<!-- 定义一个拦截器 -->
		<interceptors>
			<interceptor name="json"
				class="org.apache.struts2.json.JSONInterceptor" />
			<interceptor name="user" class="com.jqg.Interceptor.CkeckBackLogin">
			</interceptor>
			<interceptor name="authority" class="com.jqg.Interceptor.LoginInterceptor">
			</interceptor>
			<!-- 拦截器栈 -->
			<interceptor-stack name="teamwareStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="json" />
				<interceptor-ref name="user" />
				<interceptor-ref name="authority" />
			</interceptor-stack>
		</interceptors>

		<!-- 定义全局Result -->
		<global-results>
			<!-- 当返回login视图名时，转入/login.jsp页面 -->
			<result name="login" type="redirect">/login/login.jsp</result>
			<result name="input">/back/toLogin.jsp</result>
		</global-results>
		<!-- 标搜索 -->
		<action name="tender" class="com.jqg.struts.TenderAction"
			method="tender">
<!-- 			<result name="success">/jump.jsp</result> -->
<!-- 			<result name="error">/jump.jsp</result> -->
<!-- 			<result name="errorPayPwd">/jump.jsp</result> -->
<!-- 			<result name="errorMoney">/jump.jsp</result> -->
			<result name="success">/jump.jsp</result>
			<result name="tranjump">/loan/tranjump.jsp</result>
			<result name="error">/jump.jsp</result>
			<result name="errorPayPwd">/jump.jsp</result>
			<result name="errorMoney">/jump.jsp</result>
		</action>
		
		<!-- 企业标投标 -->
		<action name="comAddtender" class="com.jqg.struts.TenderAction"
			method="comAddtender">
			<result name="success">/jump.jsp</result>
		
		</action>
		<!-- 理财宝投资 -->
		<action name="lcAddtender" class="com.jqg.struts.TenderAction"
			method="lcAddtender">
			<result name="success">/jump.jsp</result>
			<result name="tranjump">/loan/tranjump.jsp</result>
		</action>
		<!-- 标留言添加 -->
		<action name="createTenderWords" class="com.jqg.struts.TenderWordsAction"
			method="createTenderWords">
			<result name="success" type="json"></result>
		</action>
		<!-- 个人银行卡添加 -->
		<action name="createUserBank" class="com.jqg.struts.UserBankAciton"
			method="createUserBank">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="user" />  <!-- 使用此拦截器 -->
		</action>
		<!-- 个人银行卡修改 -->
		<action name="updateUserBank" class="com.jqg.struts.UserBankAciton"
			method="updateUserBank">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="user" />  <!-- 使用此拦截器 -->
		</action>
		<!-- ajax查找地区信息 -->
		<action name="ajaxareas" class="com.jqg.struts.UserBankAciton"
			method="ajaxareas">
		</action>
		<!-- 提现 -->
		<action name="createtranslate" class="com.jqg.struts.UserBankAciton"
			method="createtranslate">
			<result name="loanjump">/loan/tranjump.jsp</result>
			<result name="jump">/jump.jsp</result>
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="user" />  <!-- 使用此拦截器 -->
		</action>
	
		<!-- 添加文章 -->
		<action name="addnew" class="com.jqg.struts.MenuNewAction"
			method="addnew">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 添加app图片 -->
		<action name="addAppPhoto" class="com.jqg.struts.PhotoAction" method="addAppPhoto">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
			<interceptor-ref name="defaultStack"/>
			<interceptor-ref name="json"/>
			<interceptor-ref name="authority"/>
		</action>
		<!-- 更新文章 -->
		<action name="updatenew" class="com.jqg.struts.MenuNewAction"
			method="updatenew">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 更新app图片 -->
		<action name="updatePhoto" class="com.jqg.struts.PhotoAction"
			method="updatePhoto">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 上传 -->
		<action name="upload" class="com.jqg.util.FileUploadAction">
			<result name="success" type="json">

				<param name="contentType">text/html</param>
			</result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 删除图片 -->
		<action name="delPic" class="com.jqg.util.delPicAction">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<action name="delPics" class="com.jqg.util.delPicAction"
			method="delpics">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<action name="findmanager" class="com.jqg.util.delPicAction"
			method="findmanager">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 添加管理员 -->
		<action name="addmanager" class="com.jqg.struts.ManagerAction"
			method="addmanager">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 更新管理员 -->
		<action name="updatemanager" class="com.jqg.struts.ManagerAction"
			method="updatemanager">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 判断角色是否存在 -->
		<action name="checkRole" class="com.jqg.struts.PowerAction"
			method="checkRole">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 判断客服名字是否存在 -->
		<action name="checkManager" class="com.jqg.struts.MessagemodelAction"
			method="checkManager">
			<result name="success" type="json"></result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
		<!-- 绑定QQ客服 -->
		<action name="createManager" class="com.jqg.struts.MessagemodelAction"
			method="createManager">
			<result name="success" type="json">
				<param name="root">result</param>
			</result>
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json" />
			<interceptor-ref name="authority" />
		</action>
	</package>

</struts>
