<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
  <constant name="struts.ognl.allowStaticMethodAccess" value="true" />
    <constant name="struts.action.excludePattern" value="/servlet/*" />
    <constant name="struts.devMode" value="false" />
    <constant name="struts.ui.theme" value="simple"/>
    <constant name="struts.multipart.maxSize" value="20971520"/>
     <include file="struts-uservip.xml"></include>
     <include file="struts-borrow.xml"></include>
     <include file="struts-jsonpic.xml"></include>
     <include file="struts-money.xml"></include>
     <include file="struts-bbs.xml"></include>
      <include file="struts-tender.xml"></include>

       <include file="struts-overall.xml"></include>

      <include file="struts-manager.xml"></include>
      <include file="struts-extension.xml"></include>
      <include file="struts-level.xml"></include>
      <include file="struts-moneyuse.xml"></include>
	  <include file="struts-power.xml"></include>
	  <include file="struts-app.xml"></include>
	  <include file="struts-transfer.xml"></include>
	  <include file="struts-wap.xml"></include>
	  <include file="struts-loan.xml"></include>
    <package name="default" namespace="/" extends="struts-default">
      <!-- 定义一个拦截器 -->  
        <interceptors>  
            <interceptor name="authority"  
                class="com.jqg.Interceptor.LoginInterceptor">  
            </interceptor>  

            <!-- 拦截器栈 -->  
            <interceptor-stack name="mydefault">  
                <interceptor-ref name="defaultStack" />  
                <interceptor-ref name="authority" />  

            </interceptor-stack>  
        </interceptors>  
  
        <!-- 定义全局Result -->  
        <global-results>  
            <!-- 当返回login视图名时，转入/login.jsp页面 -->  
            <result name="input">/back/toLogin.jsp</result>  
        </global-results>  
<!--   	系统加载时的自动调用的action -->
       <action name="index" class="com.jqg.struts.IndexAction" method="index">
        <result name="success" >index.jsp</result>
        <result name="exp">error.jsp</result>
        <result name="wap" type="redirectAction">
				<param name="actionName">wap/index</param>
			</result>
        </action>
        <action name="admin*" class="com.jqg.struts.ManagerAction" method="login">
        	<result name="success" type="dispatcher">/back/skip.jsp</result>  
        	<result name="error">/back/login.jsp</result>
        </action>
        <action name="filter" >
      
         <result>/back/top.jsp</result>
             <interceptor-ref name="defaultStack" /> 
           <interceptor-ref name="authority" />          
        </action>
   
     </package>
      
</struts>
